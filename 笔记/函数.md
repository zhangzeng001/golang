# 函数

## 函数定义

`func name (args type) (res type){ body }`

其中：

- 函数名：由字母、数字、下划线组成。但函数名的第一个字母不能是数字。在同一个包内，函数名也称不能重名（包的概念详见后文）。
- 参数：参数由参数变量和参数变量的类型组成，多个参数之间使用`,`分隔。
- 返回值：返回值由返回值变量和其变量类型组成，也可以只写返回值的类型，多个返回值必须用`()`包裹，并用`,`分隔。
- 函数体：实现指定功能的代码块。

```go
func intSum(x int, y int) int {
	return x + y
}

func printStr() {
	fmt.Println("xxxxx")
}
```



## 函数的调用

 定义了函数之后，我们可以通过`函数名()`的方式调用函数。 例如我们调用上面定义的两个函数

```go
func intSum(x int, y int) int {
	return x + y
}
func printStr() {
	fmt.Println("xxxxx")
}
func intSum(x, y int) (a, b int) {
	return x, y
}
// 调用
func main() {
	res := intSum(33, 66)
    a, b := intSum(33, 66)
	fmt.Println(res)
	printStr(a,b)
}
// 可变参数
func intSum2(x ...int) int {
	fmt.Println(x) // x是切片类型
	sum := 0
	for _, v := range x {
		sum = sum + v
	}
	return sum
}

func main() {
	s1 := make([]int, 3, 3)
	s1 = []int{1, 2, 3}
	res1 := intSum2(s1...)
	res2 := intSum2(1, 2, 3, 3)
	fmt.Println(res1)
	fmt.Println(res2)
}
```

## 参数

* 类型简写

   函数的参数中如果相邻变量的类型相同，则可以省略类型，例如： 

  ```go
  func intSum(x, y int) int {
  	return x + y
  }
  ```

  

* 可变参数

  可变参数是指函数的参数数量不固定。Go语言中的可变参数通过在参数名后加`...`来标识。

  注意：可变参数通常要作为函数的最后一个参数。
  
  ```go
  func intSum2(x ...int) int {
  	fmt.Println(x) // x是切片类型
  	sum := 0
  	for _, v := range x {
  		sum = sum + v
  	}
  	return sum
  }
  
  func main() {
  	s1 := make([]int, 3, 3)
  	s1 = []int{1, 2, 3}
  	res1 := intSum2(s1...)
  	res2 := intSum2(1, 2, 3, 3)
  	fmt.Println(res1)
  	fmt.Println(res2)
  }
  ```
  
  

* 返回值

   函数定义时可以给返回值命名，并在函数体中直接使用这些变量，最后通过`return`关键字返回。 

  ```go
  func calc(x, y int) (sum, sub int) {
  	sum = x + y
  	sub = x - y
  	// return sum,
  	return
  }
  
  func main() {
  	x, y := calc(33, 22)
  	fmt.Println(x, y)
  }
  ```

   当我们的一个函数返回值类型为slice时，nil可以看做是一个有效的slice，没必要显示返回一个长度为0的切片。 

  ```go
  func someFunc() []int {
  	return nil
  }
  ```

  

  